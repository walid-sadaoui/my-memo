(this["webpackJsonpmy-memo"]=this["webpackJsonpmy-memo"]||[]).push([[6],{59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),m=a(6),l=a(21),s=a(20),o=a(28),c=a(39),i=a(36),u=function(e){var t=Object.assign({},e);return r.a.createElement(l.b,Object.assign({to:"/my-memo/login",className:"flex items-end justify-end text-white rounded hover:text-teal-200"},t),r.a.createElement(s.b,{icon:"userCircle",size:s.a.MEDIUM},r.a.createElement("span",{className:"sr-only sm:not-sr-only sm:ml-2 sm:flex"},"Connexion")))},p=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],p=t[1];return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(i.a,{onClose:function(){return p(!1)}}),r.a.createElement(c.a,null,r.a.createElement(s.b,{icon:"menu",size:s.a.MEDIUM,onClick:function(){return p(!0)},className:"m-4 sm:hidden","aria-label":"Menu"}),r.a.createElement(o.a,{onClick:function(){return p(!1)}}),r.a.createElement(c.b,null,r.a.createElement("ul",{className:"hidden sm:flex sm:flex-row sm:mr-auto sm:ml-4 sm:w-auto"},r.a.createElement("li",{className:"py-2"},r.a.createElement(l.b,{to:"/my-memo/notes",onClick:function(){return p(!1)},className:"ml-2 mr-4 text-teal-200 hover:text-white"},"Notes"))),r.a.createElement(u,{onClick:function(){return p(!1)}}))))},d=a(40),f=a(19),b=a(1),x=a.n(b),E=a(2),y=a(41),h=a(33),g=a(27),w=Object(n.forwardRef)((function(e,t){var a=e.label,n=e.type,m=e.id,l=e.name,s=e.maxLength,o=Object(h.a)(e,["label","type","id","name","maxLength"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:m,className:"pt-4 font-bold"},a),r.a.createElement(g.a,Object.assign({id:m,type:n,placeholder:a,name:l,ref:t,maxLength:s},o)))})),v=a(5),N=function(){var e,t,a=Object(n.useState)(!1),s=Object(m.a)(a,2),o=s[0],c=s[1],i=Object(n.useRef)(null),u=Object(y.a)({mode:"onBlur"}),p=u.register,d=u.handleSubmit,b=u.errors,h=u.watch;Object(n.useEffect)((function(){var e;null===(e=i.current)||void 0===e||e.focus()}),[]);var g=function(){var e=Object(E.a)(x.a.mark((function e(t){var a,n,r,m;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.email,r=t.password,m={username:a,email:n,password:r},e.next=4,Object(v.b)("/signup",JSON.stringify(m));case 4:e.sent.data&&c(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"flex flex-col flex-1 w-full max-w-2xl p-2 mx-auto my-auto sm:shadow-lg sm:border-t-4 sm:border-blue-900"},o?r.a.createElement(f.a,{to:"/my-memo/login"}):null,r.a.createElement("header",{className:"flex items-center justify-center py-2 pl-8 pr-12 text-gray-900"},r.a.createElement("h1",{className:"text-5xl font-medium text-gray-800 font-hand"},"Inscription")),r.a.createElement("form",{onSubmit:d(g),className:"flex flex-col px-8"},r.a.createElement(w,{id:"signup-username",label:"Nom d'utilisateur",type:"text",name:"username",ref:function(e){i.current=e,p(e)},maxLength:20}),r.a.createElement(w,{id:"signup-email",label:"Email",type:"email",name:"email",ref:p({required:!0})}),b.email&&r.a.createElement("span",{className:"text-red-500"},"L'email est requis"),r.a.createElement(w,{id:"signup-password",label:"Mot de passe",type:"password",name:"password",ref:p({required:!0,minLength:8})}),"required"===(null===(e=b.password)||void 0===e?void 0:e.type)&&r.a.createElement("span",{className:"text-red-500"},"Le mot de passe est requis"),"minLength"===(null===(t=b.password)||void 0===t?void 0:t.type)&&r.a.createElement("span",{className:"text-red-500"},"Le mot de passe doit contenir au moins 8 caract\xe8res avec au moins une majuscule, une minuscule, un chiffre et un caract\xe8re sp\xe9cial"),r.a.createElement(w,{id:"signup-password-confirm",name:"confirmPassword",label:"Confirmez le mot de passe",type:"password",ref:p({validate:function(e){return e===h("password")},required:!0})}),b.confirmPassword&&r.a.createElement("span",{className:"text-red-500"},"Les mots de passe ne correspondent pas"),r.a.createElement("button",{type:"submit",className:"inline-flex items-center px-4 py-2 mx-auto my-4 text-white bg-blue-900 rounded hover:bg-blue-800"},"S'inscrire")),r.a.createElement("span",{className:"mx-auto"},"Vous avez d\xe9j\xe0 un compte ?"," ",r.a.createElement(l.b,{to:"/my-memo/login",className:"text-blue-700 hover:underline"},"Connectez-vous")))},j=a(3),O=function(){var e,t,a=Object(j.b)().login,m=Object(n.useRef)(null),s=Object(y.a)({mode:"onBlur"}),o=s.register,c=s.handleSubmit,i=s.errors,u=function(){var e=Object(E.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,a({email:n,password:r});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e;null===(e=m.current)||void 0===e||e.focus()}),[]),r.a.createElement("section",{className:"flex flex-col flex-1 max-w-2xl p-2 mx-auto my-auto sm:border-t-4 sm:border-blue-900 sm:shadow-lg"},r.a.createElement("header",{className:"flex items-center justify-center py-2 pl-8 pr-12 text-gray-900"},r.a.createElement("h1",{className:"text-5xl font-medium text-gray-800 font-hand"},"Connexion")),r.a.createElement("form",{onSubmit:c(u),className:"flex flex-col px-8"},r.a.createElement(w,{id:"signup-email",label:"Email",type:"email",name:"email",ref:function(e){m.current=e,o(e,{required:!0})}}),i.email&&r.a.createElement("span",{className:"text-red-500"},"L'email est requis"),r.a.createElement(w,{id:"signup-password",label:"Mot de passe",type:"password",name:"password",ref:o({required:!0,minLength:6})}),"required"===(null===(e=i.password)||void 0===e?void 0:e.type)&&r.a.createElement("span",{className:"text-red-500"},"Le mot de passe est requis"),"minLength"===(null===(t=i.password)||void 0===t?void 0:t.type)&&r.a.createElement("span",{className:"text-red-500"},"Le mot de passe doit contenir au moins 6 caract\xe8res avec une lettre et un chiffre"),r.a.createElement(l.b,{to:"/my-memo/signup",className:"mr-auto text-blue-700 hover:underline"},"Mot de passe oubli\xe9 ?"),r.a.createElement("button",{type:"submit",className:"inline-flex items-center px-4 py-2 mx-auto my-4 text-white bg-blue-900 rounded hover:bg-blue-800"},"Se Connecter")),r.a.createElement("span",{className:"mx-auto"},"Vous n'avez pas de compte ?"," ",r.a.createElement(l.b,{to:"/my-memo/signup",className:"text-blue-700 hover:underline"},"Cr\xe9ez un compte")))},L=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{exact:!0,path:"/my-memo/",component:d.a}),r.a.createElement(f.b,{path:"/my-memo/notes",component:d.a}),r.a.createElement(f.b,{path:"/my-memo/signup",component:N}),r.a.createElement(f.b,{path:"/my-memo/login",component:O}),r.a.createElement(f.b,{path:"*"},r.a.createElement(f.a,{to:"/my-memo/"})))};t.default=function(){return r.a.createElement(l.a,null,r.a.createElement(p,null),r.a.createElement("main",{role:"main",className:"flex flex-grow overflow-y-auto bg-white"},r.a.createElement(L,null)))}}}]);
//# sourceMappingURL=6.8cee55f7.chunk.js.map