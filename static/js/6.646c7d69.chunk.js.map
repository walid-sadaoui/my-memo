{"version":3,"sources":["components/organisms/Header/UnauthenticatedHeader.tsx","components/pages/LogIn.tsx","components/UnauthenticatedApp.tsx"],"names":["LoginLink","otherProps","to","className","Button","icon","size","ButtonSize","MEDIUM","UnauthenticatedHeader","useState","mobileNavOpen","setMobileNavOpen","HeaderMobileDetail","onClose","onClick","aria-label","Title","LogIn","login","useAuth","emailInputRef","useRef","useForm","mode","register","handleSubmit","errors","onSubmit","a","email","password","useEffect","current","focus","LabelInput","id","label","type","name","ref","e","required","minLength","value","AppRoutes","Fragment","exact","path","component","Notes","SignUp","UnauthenticatedApp","role"],"mappings":"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","file":"static/js/6.646c7d69.chunk.js","sourcesContent":["import React, { FunctionComponent, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button, { ButtonSize } from \"../../atoms/Button\";\nimport Title from \"../../atoms/Title\";\nimport { Header, NavBar } from \"./HeaderElements\";\nimport HeaderMobileDetail from \"./HeaderMobileDetail\";\n\ninterface HeaderProps {\n  logo?: string;\n  categories?: string[];\n  links?: string[];\n  className?: string;\n}\n\nconst LoginLink: React.FC<React.AnchorHTMLAttributes<HTMLAnchorElement>> = ({\n  ...otherProps\n}) => {\n  return (\n    <Link\n      to=\"/login\"\n      className=\"flex items-end justify-end text-white rounded hover:text-teal-200\"\n      {...otherProps}\n    >\n      <Button icon=\"userCircle\" size={ButtonSize.MEDIUM}>\n        <span className=\"sr-only sm:not-sr-only sm:ml-2 sm:flex\">\n          Connexion\n        </span>\n      </Button>\n    </Link>\n  );\n};\n\nconst UnauthenticatedHeader: FunctionComponent<HeaderProps> = () => {\n  const [mobileNavOpen, setMobileNavOpen] = useState<boolean>(false);\n  // const navElements = [{ endpoint: \"/notes\", label: \"Notes\" }];\n\n  return (\n    <>\n      {mobileNavOpen && (\n        <HeaderMobileDetail onClose={(): void => setMobileNavOpen(false)} />\n      )}\n      <Header>\n        <Button\n          icon=\"menu\"\n          size={ButtonSize.MEDIUM}\n          onClick={(): void => setMobileNavOpen(true)}\n          className=\"m-4 sm:hidden\"\n          aria-label=\"Menu\"\n        />\n        <Title onClick={(): void => setMobileNavOpen(false)} />\n        <NavBar>\n          <ul className=\"hidden sm:flex sm:flex-row sm:mr-auto sm:ml-4 sm:w-auto\">\n            <li className=\"py-2\">\n              <Link\n                to=\"/notes\"\n                onClick={(): void => setMobileNavOpen(false)}\n                className=\"ml-2 mr-4 text-teal-200 hover:text-white\"\n              >\n                Notes\n              </Link>\n            </li>\n          </ul>\n          <LoginLink onClick={(): void => setMobileNavOpen(false)} />\n        </NavBar>\n      </Header>\n    </>\n  );\n};\n\nexport default UnauthenticatedHeader;\n","import React, { FunctionComponent, useEffect, useRef } from \"react\";\nimport { SubmitHandler, useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../../AuthContext\";\nimport LabelInput from \"../molecules/LabelInput\";\nimport Button from \"../atoms/Button\";\n\ninterface LoginFormValues {\n  email: string;\n  password: string;\n}\n\nconst LogIn: FunctionComponent = () => {\n  const { login } = useAuth();\n  const emailInputRef = useRef<HTMLInputElement | null>(null);\n  const { register, handleSubmit, errors } = useForm({\n    mode: \"onBlur\",\n  });\n\n  const onSubmit: SubmitHandler<LoginFormValues> = async ({\n    email,\n    password,\n  }) => {\n    await login({ email, password });\n  };\n\n  useEffect(() => {\n    emailInputRef.current?.focus();\n  }, []);\n\n  return (\n    <section className=\"flex flex-col flex-1 p-2 my-auto sm:border-t-4 sm:border-blue-900 mx-auto max-w-2xl sm:shadow-lg\">\n      <header className=\"flex pl-8 pr-12 py-2 items-center text-gray-900 justify-center\">\n        <h1 className=\"text-5xl font-medium font-hand text-gray-800\">\n          Connexion\n        </h1>\n      </header>\n      <form onSubmit={handleSubmit(onSubmit)} className=\"flex flex-col px-8\">\n        <LabelInput\n          id=\"signup-email\"\n          label=\"Email\"\n          type=\"email\"\n          name=\"email\"\n          ref={(e) => {\n            emailInputRef.current = e;\n            register(e, { required: true });\n          }}\n        />\n        {errors.email && (\n          <span className=\"text-red-500\">L'email est requis</span>\n        )}\n        <LabelInput\n          id=\"signup-password\"\n          label=\"Mot de passe\"\n          type=\"password\"\n          name=\"password\"\n          ref={register({ required: true, minLength: 6 })}\n        />\n        {errors.password?.type === \"required\" && (\n          <span className=\"text-red-500\">Le mot de passe est requis</span>\n        )}\n        {errors.password?.type === \"minLength\" && (\n          <span className=\"text-red-500\">\n            Le mot de passe doit contenir au moins 6 caractères avec une lettre\n            et un chiffre\n          </span>\n        )}\n        <Link to=\"/signup\" className=\"mr-auto text-blue-700 hover:underline\">\n          Mot de passe oublié ?\n        </Link>\n        <Button value=\"Se Connecter\" type=\"submit\" />\n        <button\n          type=\"submit\"\n          className=\"inline-flex items-center px-4 py-2 mx-auto my-4 text-white bg-blue-900 rounded hover:bg-blue-800\"\n        >\n          Se Connecter\n        </button>\n      </form>\n      <span className=\"mx-auto\">\n        Vous n'avez pas de compte ?{\" \"}\n        <Link to=\"/signup\" className=\"text-blue-700 hover:underline\">\n          Créez un compte\n        </Link>\n      </span>\n    </section>\n  );\n};\n\nexport default LogIn;\n","import React, { FunctionComponent } from \"react\";\nimport UnauthenticatedHeader from \"./organisms/Header/UnauthenticatedHeader\";\nimport Notes from \"./pages/Notes\";\nimport { BrowserRouter as Router, Redirect, Route } from \"react-router-dom\";\nimport SignUp from \"./pages/SignUp\";\nimport LogIn from \"./pages/LogIn\";\n\nconst UnauthenticatedApp: FunctionComponent = () => {\n  return (\n    <Router>\n      <UnauthenticatedHeader />\n      <main role=\"main\" className=\"flex flex-grow overflow-hidden bg-white\">\n        <AppRoutes />\n      </main>\n    </Router>\n  );\n};\n\nconst AppRoutes: FunctionComponent = () => {\n  return (\n    <React.Fragment>\n      <Route exact={true} path=\"/\" component={Notes} />\n      <Route path=\"/notes\" component={Notes} />\n      <Route path=\"/signup\" component={SignUp} />\n      <Route path=\"/login\" component={LogIn} />\n      <Route path=\"*\">\n        <Redirect to=\"/\" />\n      </Route>\n    </React.Fragment>\n  );\n};\n\nexport default UnauthenticatedApp;\n"],"sourceRoot":""}